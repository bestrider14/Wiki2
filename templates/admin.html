{% extends 'index.html' %}
{% block body %}

<div class="content">
    <h1>Gestion de votre compte administrateur {{ session['userName']}}</h1>

    {% include "include/gestion_all_compte.html" %}
    {% include "include/mod_compte.html" %}



    <div class="block_gestion">
        <h2>Gestion de la base de données</h2>
        <form name="upForm" action="/up" method="post">
            <button onclick="confirmUp()">Créer la base de données</button>
        </form>
        <br>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul class="flashed">
                    {% for message in messages %}
                        <li class="orange">{{message}}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
    </div>

    {% include "include/del_account.html" %}

    <!-- Script pour auto complete email apres 4 caractere -->
    <script>
        $(function() {
            $.ajax({
                url: '{{ url_for("autocomplete") }}'
                }).done(function (data){
                    $('#email_autocomplete').autocomplete({
                        source: data,
                        minLength: 4
                    });
                });
            });
    </script>
    <!-- Script pour actualiser le champ du role apres lecriture du email -->
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
</div>
{% endblock %}